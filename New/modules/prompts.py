DATA_SPLIT_PROMPT = """[수암명리 구조 데이터 분리]
아래 명식 해석문 또는 사례 설명에서 
- 십신·궁성간 생·극·합·충 등 구조,
- 십신의 궁성 연결/비연결,
- 특정 패턴(관인상생, 식상생재 등),
- 복합 구조(형·충·합, 천간透, 뿌리 유무 등),
- 운(대운·세운 등)에서 합·충·형·파 발생 여부,
- 허상/실상 구분(연결X=허상),
- 구조별 길흉/응기,
- 해석 결과 간 충돌/모순,
- 해석 사례 자동 분류/유형화,
- 판정 결과 시각화(표, 플로우 등)
위 항목별로 정밀하게 표 또는 JSON으로 분해·정리해줘.

예시 형식:
| 사례번호 | 생극합충관계 | 궁성연결 | 패턴유형 | 복합구조 | 운작동 | 현실성 | 구조별길흉 | 해석충돌 | 사례유형 | 시각화 |
"""

AUTO_ANALYSIS_BASE = """[수암명리 구조 자동 해석]
명식(천간/지지), 성별, 그리고 궁금한 항목(예: 배우자/재물/관직 등)을 입력하면,
데이터베이스의 세부 항목별(생극합충, 연결, 패턴, 복합구조, 운작동, 허상/실상, 길흉, 해석충돌, 유형, 시각화 등) 조건에 따라
- 구조 요약(표)
- 구조별/주제별 분석 및 현실성 설명
- 길흉/응기/충돌지점
- 관련 실제 사례 분류/근거
- 판정 결과 시각화(도식, 표 등)
까지 자동으로 조합해줘.
"""

def build_auto_prompt(tiangan: str, dizhi: str, gender: str, topic: str) -> str:
    return (
        f"{AUTO_ANALYSIS_BASE}\n"
        f"천간: {tiangan}\n"
        f"지지: {dizhi}\n"
        f"성별: {gender}\n"
        f"주제: {topic}\n"
    )

TEMPLATE_PROMPT = """아래 텍스트에서  
1) 생극합충관계  
2) 궁성연결  
3) 특정 패턴  
4) 복합구조  
5) 운에서의 합·충·형·파  
6) 허상/실상  
7) 구조별 길흉/응기  
8) 해석 충돌/모순  
9) 자동 유형화  
10) 시각화 데이터  
로 쪼개어 표(또는 JSON)로 정리해줘.
"""
